---
name: linkedin-auto-poster
description: |
  Automatically post updates to LinkedIn for business promotion and sales generation.
  Uses Playwright for browser automation to create and schedule posts.
  Includes content templates, approval workflow, and analytics tracking.
  WARNING: Respect LinkedIn's Terms of Service. Use responsibly.
---

# LinkedIn Auto-Poster Skill

Automatically create and post LinkedIn updates to generate sales leads.

## ⚠️ Important Warning

**Use this skill responsibly:**
- Automation may violate LinkedIn's Terms of Service
- Use for personal accounts only, at your own risk
- Consider LinkedIn Marketing API for business pages
- Implement rate limiting to avoid detection
- Add human delays between actions

## Prerequisites

### 1. Install Playwright

```bash
pip install playwright
playwright install chromium
```

### 2. LinkedIn Account

- Personal or business account
- Complete profile for better engagement
- Connect with potential clients

## Configuration

Create `vault_path/scripts/linkedin_config.json`:

```json
{
  "session_path": "C:\\Users\\YourName\\linkedin_session",
  "email": "your.email@example.com",
  "password_env": "LINKEDIN_PASSWORD",
  "post_schedule": {
    "enabled": true,
    "time": "09:00",
    "timezone": "UTC",
    "days": ["monday", "wednesday", "friday"]
  },
  "content_templates": [
    "Just completed {project} for {client}. Results: {results}",
    "Sharing insights from {topic}. Key takeaway: {insight}",
    "Excited to announce {announcement}. Learn more: {link}"
  ],
  "hashtags": ["#business", "#consulting", "#tech"],
  "require_approval": true,
  "dry_run": false
}
```

## Usage

### Basic Usage

```bash
python linkedin_poster.py /path/to/vault --post "Your post content here"
```

### With Approval Workflow

```bash
python linkedin_poster.py /path/to/vault --draft
# Creates post in /Pending_Approval for review
```

### Scheduled Posting

```bash
python linkededin_poster.py /path/to/vault --schedule
# Runs continuously, posts at scheduled times
```

## Output Format

Creates approval files in `/Pending_Approval/`:

```markdown
---
type: linkedin_post
content: Just completed Q1 analysis for Client X...
hashtags: #business #consulting
scheduled: 2026-02-24T09:00:00Z
created: 2026-02-24T08:00:00Z
status: pending_approval
---

# LinkedIn Post Preview

**Content:**
Just completed Q1 analysis for Client X. Key findings:
- Revenue up 25%
- Costs reduced by 15%
- New markets identified

**Hashtags:** #business #consulting #results

**Scheduled:** 2026-02-24 at 9:00 AM

---

## To Approve
Move this file to /Approved folder.

## To Reject
Move to /Rejected with comments.

---
*Generated by LinkedIn Auto-Poster v0.1 (Silver Tier)*
```

## Content Templates

### Project Completion

```
Just wrapped up {project_name} for {client_name}. 

Key results:
✓ {result_1}
✓ {result_2}
✓ {result_3}

#consulting #results #business
```

### Industry Insights

```
Interesting trend in {industry}: {observation}

What this means for businesses:
• {implication_1}
• {implication_2}

Thoughts? Drop a comment below.

#industry #insights #strategy
```

### Announcement

```
Excited to announce: {announcement}!

What's new:
- {feature_1}
- {feature_2}

Learn more: {link}

#innovation #business #growth
```

## Architecture

```
┌─────────────┐     ┌──────────────┐     ┌─────────────┐
│ Content     │────▶│ LinkedIn     │────▶│ Approval    │
│ Generator   │     │ Poster       │     │ Workflow    │
└─────────────┘     └──────────────┘     └─────────────┘
                           │
                           ▼
                    ┌─────────────┐
                    │ LinkedIn    │
                    │ (Playwright)│
                    └─────────────┘
```

## How It Works

1. **Generate content** from template or Qwen Code
2. **Create approval file** in `/Pending_Approval/`
3. **User reviews** and moves to `/Approved`
4. **Poster logs in** to LinkedIn (saves session)
5. **Creates post** with content and hashtags
6. **Takes screenshot** for audit log
7. **Logs success** in `/Done`

## Security Notes

- **Never store password** in config (use env var)
- **Session data** stored locally - protect it
- **Rate limit** posts (max 1-2 per day)
- **Monitor** for account restrictions
- **Add delays** between actions (human-like)

## Troubleshooting

| Issue | Solution |
|-------|----------|
| Login fails | Check credentials, LinkedIn may block automation |
| Post button not found | LinkedIn UI changed - update selectors |
| Account restricted | Stop automation, contact LinkedIn support |
| Session expired | Re-authenticate, delete session folder |

## Code Example

```python
from playwright.sync_api import sync_playwright
from pathlib import Path
import time
from datetime import datetime

class LinkedInPoster:
    def __init__(self, vault_path: str, session_path: str,
                 email: str, password: str):
        self.vault_path = Path(vault_path)
        self.session_path = Path(session_path)
        self.email = email
        self.password = password
        self.needs_action = self.vault_path / 'Needs_Action'
        self.done = self.vault_path / 'Done'
        
    def post_update(self, content: str, hashtags: list = None,
                    screenshot: bool = True) -> dict:
        """Post update to LinkedIn."""
        with sync_playwright() as p:
            browser = p.chromium.launch_persistent_context(
                self.session_path,
                headless=True,
                args=['--disable-blink-features=AutomationControlled']
            )
            
            page = browser.pages[0]
            page.goto('https://www.linkedin.com/feed/')
            
            # Wait for feed to load
            page.wait_for_selector('[aria-label="Start a post"]', timeout=30000)
            time.sleep(2)
            
            # Click "Start a post"
            page.click('[aria-label="Start a post"]')
            page.wait_for_selector('.ql-editor', timeout=10000)
            
            # Type content
            full_content = content
            if hashtags:
                full_content += '\n\n' + ' '.join(hashtags)
            
            page.fill('.ql-editor', full_content)
            time.sleep(1)
            
            # Click "Post"
            page.click('button:has-text("Post")')
            
            # Wait for confirmation
            page.wait_for_selector('.post-updated-toast', timeout=10000)
            
            result = {
                'status': 'posted',
                'timestamp': datetime.now().isoformat(),
                'content': content
            }
            
            if screenshot:
                screenshot_path = self.done / f'linkedin_{int(time.time())}.png'
                page.screenshot(path=str(screenshot_path))
                result['screenshot'] = str(screenshot_path)
            
            browser.close()
            return result
    
    def create_approval_file(self, content: str, hashtags: list) -> Path:
        """Create approval request file."""
        timestamp = datetime.now().isoformat()
        
        file_content = f'''---
type: linkedin_post
content: {content[:100]}...
hashtags: {' '.join(hashtags)}
created: {timestamp}
status: pending_approval
---

# LinkedIn Post Preview

**Content:**
{content}

**Hashtags:** {' '.join(hashtags)}

---
Move to /Approved to post, /Rejected to cancel.
'''
        filepath = self.needs_action / f'LINKEDIN_POST_{int(time.time())}.md'
        filepath.write_text(file_content)
        return filepath
```

## Best Practices

1. **Post timing**: 9-11 AM on weekdays for best engagement
2. **Frequency**: 1 post per day maximum
3. **Content mix**: 80% value, 20% promotion
4. **Engagement**: Reply to comments within 24 hours
5. **Hashtags**: 3-5 relevant hashtags per post

## Alternative: LinkedIn API

For production use, consider official LinkedIn API:

1. [LinkedIn Marketing Developer Platform](https://developer.linkedin.com/)
2. Create LinkedIn App
3. Use Posts API for programmatic posting
4. Official and ToS-compliant

## Next Steps

1. Set up content generation with Qwen Code
2. Configure approval workflow
3. Schedule posts for optimal times
4. Track engagement metrics
5. A/B test different content types
